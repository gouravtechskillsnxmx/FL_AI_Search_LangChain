<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Simple TextGen</title>
  <style>body{font-family:Arial; margin:20px} textarea{width:100%;height:120px}</style>
</head>
<body>
  <h2>Simple TextGen Demo</h2>
  <textarea id="query">Write a short friendly paragraph about intermittent fasting.</textarea>
  <div style="margin-top:8px">
    <button id="gen">Generate</button>
  </div>
  <pre id="out" style="background:#f7f7f7;padding:12px;margin-top:12px"></pre>

<script>
const API_URL = 'http://localhost:8000';
const API_KEY = 'dev-key-123';
document.getElementById('gen').addEventListener('click', async ()=>{
  const q = document.getElementById('query').value;
  const res = await fetch(API_URL + '/v1/generate', {
    method: 'POST',
    headers: {'Content-Type':'application/json', 'Authorization': 'Bearer ' + API_KEY},
    body: JSON.stringify({query: q, options: {tone: 'friendly', length:'short'}})
  });
  const data = await res.json();
  document.getElementById('out').innerText = data.output || JSON.stringify(data);
});
</script>
</body>
</html>
